{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{fetchProducts}from'../api/Api';export var productSlice=createSlice({name:'products',initialState:{loading:false,error:null,data:[]},reducers:{fetchProductsStart:function fetchProductsStart(state){return _objectSpread(_objectSpread({},state),{},{loading:true});},fetchProductsSuccess:function fetchProductsSuccess(state,action){return _objectSpread(_objectSpread({},state),{},{data:action.payload,loading:false});},fetchProductsFailed:function fetchProductsFailed(state,action){return _objectSpread(_objectSpread({},state),{},{error:action.payload});}}});export var PRODUCT_SLICE_ACTIONS=productSlice.actions;export var fetchProductsAsync=function fetchProductsAsync(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(PRODUCT_SLICE_ACTIONS.fetchProductsStart());_context.prev=1;_context.next=4;return fetchProducts();case 4:products=_context.sent;dispatch(PRODUCT_SLICE_ACTIONS.fetchProductsSuccess(products));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(PRODUCT_SLICE_ACTIONS.fetchProductsFailed(_context.t0));case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export default productSlice.reducer;","map":{"version":3,"names":["createSlice","fetchProducts","productSlice","name","initialState","loading","error","data","reducers","fetchProductsStart","state","_objectSpread","fetchProductsSuccess","action","payload","fetchProductsFailed","PRODUCT_SLICE_ACTIONS","actions","fetchProductsAsync","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","products","wrap","_callee$","_context","prev","next","sent","t0","stop","_x","apply","arguments","reducer"],"sources":["/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/src/redux/productSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { fetchProducts } from '../api/Api'\n\nexport const productSlice = createSlice({\n  name: 'products',\n  initialState: {\n    loading: false,\n    error: null,\n    data: []\n  },\n  reducers: {\n    fetchProductsStart: (state) => {\n      return {\n        ...state,\n        loading: true\n      }\n    },\n   fetchProductsSuccess: (state, action) => {  \n      return {\n        ...state,\n        data: action.payload, \n        loading: false\n      }\n    },\n    fetchProductsFailed: (state, action) => {\n      return {\n        ...state,\n        error: action.payload \n      }\n    },\n  }\n});\n\nexport const PRODUCT_SLICE_ACTIONS = productSlice.actions;\n\n\n\n\n\n\nexport const fetchProductsAsync = () => async dispatch => {\n  dispatch(PRODUCT_SLICE_ACTIONS.fetchProductsStart());\n  try {\n    const products = await fetchProducts();\n    dispatch(PRODUCT_SLICE_ACTIONS.fetchProductsSuccess(products));\n  } catch (error) {\n    dispatch(PRODUCT_SLICE_ACTIONS.fetchProductsFailed(error));\n  }\n}\n\n\n\n\n\nexport default productSlice.reducer;"],"mappings":"kcAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,aAAa,KAAQ,YAAY,CAE1C,MAAO,IAAM,CAAAC,YAAY,CAAGF,WAAW,CAAC,CACtCG,IAAI,CAAE,UAAU,CAChBC,YAAY,CAAE,CACZC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IAAI,CACXC,IAAI,CAAE,EACR,CAAC,CACDC,QAAQ,CAAE,CACRC,kBAAkB,CAAE,SAAAA,mBAACC,KAAK,CAAK,CAC7B,OAAAC,aAAA,CAAAA,aAAA,IACKD,KAAK,MACRL,OAAO,CAAE,IAAI,GAEjB,CAAC,CACFO,oBAAoB,CAAE,SAAAA,qBAACF,KAAK,CAAEG,MAAM,CAAK,CACtC,OAAAF,aAAA,CAAAA,aAAA,IACKD,KAAK,MACRH,IAAI,CAAEM,MAAM,CAACC,OAAO,CACpBT,OAAO,CAAE,KAAK,GAElB,CAAC,CACDU,mBAAmB,CAAE,SAAAA,oBAACL,KAAK,CAAEG,MAAM,CAAK,CACtC,OAAAF,aAAA,CAAAA,aAAA,IACKD,KAAK,MACRJ,KAAK,CAAEO,MAAM,CAACC,OAAO,GAEzB,CACF,CACF,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAE,qBAAqB,CAAGd,YAAY,CAACe,OAAO,CAOzD,MAAO,IAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,oCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAS,SAAAC,QAAMC,QAAQ,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpDN,QAAQ,CAACR,qBAAqB,CAACP,kBAAkB,CAAC,CAAC,CAAC,CAACmB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE5B,CAAA7B,aAAa,CAAC,CAAC,QAAhCwB,QAAQ,CAAAG,QAAA,CAAAG,IAAA,CACdP,QAAQ,CAACR,qBAAqB,CAACJ,oBAAoB,CAACa,QAAQ,CAAC,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAE/DJ,QAAQ,CAACR,qBAAqB,CAACD,mBAAmB,CAAAa,QAAA,CAAAI,EAAM,CAAC,CAAC,CAAC,yBAAAJ,QAAA,CAAAK,IAAA,MAAAV,OAAA,gBAE9D,mBAAAW,EAAA,SAAAf,IAAA,CAAAgB,KAAA,MAAAC,SAAA,UAMD,cAAe,CAAAlC,YAAY,CAACmC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}