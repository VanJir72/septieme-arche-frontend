{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: []\n  },\n  reducers: {\n    //////////Rdeducer - 1 - (Pour augmenter le compteur d'icon PANIER + Pour l'action \" + \" dans \" - 1 + \") = INCREMENTATION.\n    addItemToCart: (state, action) => {\n      const item = action.payload;\n      const exist = state.items.find(cartItem => cartItem.id === item.id);\n      if (exist) {\n        return {\n          ...state,\n          items: state.items.map(cartItem => {\n            if (cartItem.id === exist.id) {\n              return {\n                ...cartItem,\n                quantity: cartItem.quantity + 1\n              };\n            }\n            return cartItem;\n          })\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, {\n          ...item,\n          quantity: 1\n        }]\n      };\n    },\n    //////////Rdeducer - 2 - (Pour l'action \" - \" dans \" - 1 + \") = DECREMENTATION.\n    removeItemFromCart: (state, action) => {\n      const item = action.payload;\n      const exist = state.items.find(cartItem => cartItem.id === item.id);\n      if (exist.quantity === 1) {\n        return {\n          ...state,\n          items: state.items.filter(cartItem => cartItem.id !== item.id)\n        };\n      }\n      return {\n        ...state,\n        items: state.items.map(cartItem => {\n          if (cartItem.id === exist.id) {\n            return {\n              ...cartItem,\n              quantity: cartItem.quantity - 1 //Le -1 de décrementation avec la flèche ( - ) dans (- 1 +)\n            };\n          }\n\n          return cartItem;\n        })\n      };\n    },\n    //////////Rdeducer - 3 - (Pour l'action \" x \") = DELETE.\n    clearCartItem: (state, action) => {\n      return {\n        ...state,\n        items: state.items.filter(cartItem => cartItem.id !== action.payload.id)\n      };\n    },\n    //////////Rdeducer - 4 - (Quand on clique sur le Button [Clear Cart]).\n    clearCart: state => {\n      return {\n        ...state,\n        items: []\n      };\n    },\n    //////////Rdeducer - 5 - (le \"action.payload\" = cliquer sur le Button [Add tio cart])\n    setCartItems: (state, action) => {\n      return {\n        ...state,\n        items: action.payload\n      };\n    }\n  }\n});\nexport const CART_SLICE_ACTIONS = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","reducers","addItemToCart","state","action","item","payload","exist","find","cartItem","id","map","quantity","removeItemFromCart","filter","clearCartItem","clearCart","setCartItems","CART_SLICE_ACTIONS","actions","reducer"],"sources":["/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n  },\n\n  reducers: {\n\n    //////////Rdeducer - 1 - (Pour augmenter le compteur d'icon PANIER + Pour l'action \" + \" dans \" - 1 + \") = INCREMENTATION.\n    addItemToCart: (state, action) => {\n      const item = action.payload;\n      const exist = state.items.find(cartItem => cartItem.id === item.id);\n      if (exist) \n      {\n        return { \n          ...state,\n          items: state.items.map(cartItem => {\n            if (cartItem.id === exist.id) {\n              return {\n                ...cartItem,\n                quantity: cartItem.quantity + 1 \n              }\n            }\n            return cartItem;\n          })\n        }\n      }\n      return { \n        ...state,\n        items: [...state.items, { ...item, quantity: 1 }]                                              \n      }\n    },\n\n    //////////Rdeducer - 2 - (Pour l'action \" - \" dans \" - 1 + \") = DECREMENTATION.\n    removeItemFromCart: (state, action) => {\n      const item = action.payload;\n      const exist = state.items.find(cartItem => cartItem.id === item.id);\n      if (exist.quantity === 1) {\n        return {\n          ...state,\n          items: state.items.filter(cartItem => cartItem.id !== item.id) \n        }\n      }\n      return { \n        ...state,\n        items: state.items.map(cartItem => {\n          if (cartItem.id === exist.id) {\n            return {\n              ...cartItem,\n              quantity: cartItem.quantity - 1 //Le -1 de décrementation avec la flèche ( - ) dans (- 1 +)\n            }\n          }\n          return cartItem;\n        })\n      }\n    },\n\n    //////////Rdeducer - 3 - (Pour l'action \" x \") = DELETE.\n    clearCartItem: (state, action) => {\n      return {\n        ...state,\n        items: state.items.filter(cartItem => cartItem.id !== action.payload.id) \n      }\n    },\n\n    //////////Rdeducer - 4 - (Quand on clique sur le Button [Clear Cart]).\n    clearCart: (state) => {\n      return {\n        ...state,\n        items: []\n      }\n    },\n\n    //////////Rdeducer - 5 - (le \"action.payload\" = cliquer sur le Button [Add tio cart])\n    setCartItems: (state, action) => {  \n      return {\n        ...state,\n        items: action.payload\n      }\n    }\n  }\n});\n\n\nexport const CART_SLICE_ACTIONS = cartSlice.actions;\n\nexport default cartSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAG9C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC5BE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,KAAK,EAAE;EACT,CAAC;EAEDC,QAAQ,EAAE;IAER;IACAC,aAAa,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAMC,IAAI,GAAGD,MAAM,CAACE,OAAO;MAC3B,MAAMC,KAAK,GAAGJ,KAAK,CAACH,KAAK,CAACQ,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;MACnE,IAAIH,KAAK,EACT;QACE,OAAO;UACL,GAAGJ,KAAK;UACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACW,GAAG,CAACF,QAAQ,IAAI;YACjC,IAAIA,QAAQ,CAACC,EAAE,KAAKH,KAAK,CAACG,EAAE,EAAE;cAC5B,OAAO;gBACL,GAAGD,QAAQ;gBACXG,QAAQ,EAAEH,QAAQ,CAACG,QAAQ,GAAG;cAChC,CAAC;YACH;YACA,OAAOH,QAAQ;UACjB,CAAC;QACH,CAAC;MACH;MACA,OAAO;QACL,GAAGN,KAAK;QACRH,KAAK,EAAE,CAAC,GAAGG,KAAK,CAACH,KAAK,EAAE;UAAE,GAAGK,IAAI;UAAEO,QAAQ,EAAE;QAAE,CAAC;MAClD,CAAC;IACH,CAAC;IAED;IACAC,kBAAkB,EAAEA,CAACV,KAAK,EAAEC,MAAM,KAAK;MACrC,MAAMC,IAAI,GAAGD,MAAM,CAACE,OAAO;MAC3B,MAAMC,KAAK,GAAGJ,KAAK,CAACH,KAAK,CAACQ,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;MACnE,IAAIH,KAAK,CAACK,QAAQ,KAAK,CAAC,EAAE;QACxB,OAAO;UACL,GAAGT,KAAK;UACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACc,MAAM,CAACL,QAAQ,IAAIA,QAAQ,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE;QAC/D,CAAC;MACH;MACA,OAAO;QACL,GAAGP,KAAK;QACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACW,GAAG,CAACF,QAAQ,IAAI;UACjC,IAAIA,QAAQ,CAACC,EAAE,KAAKH,KAAK,CAACG,EAAE,EAAE;YAC5B,OAAO;cACL,GAAGD,QAAQ;cACXG,QAAQ,EAAEH,QAAQ,CAACG,QAAQ,GAAG,CAAC,CAAC;YAClC,CAAC;UACH;;UACA,OAAOH,QAAQ;QACjB,CAAC;MACH,CAAC;IACH,CAAC;IAED;IACAM,aAAa,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MAChC,OAAO;QACL,GAAGD,KAAK;QACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACc,MAAM,CAACL,QAAQ,IAAIA,QAAQ,CAACC,EAAE,KAAKN,MAAM,CAACE,OAAO,CAACI,EAAE;MACzE,CAAC;IACH,CAAC;IAED;IACAM,SAAS,EAAGb,KAAK,IAAK;MACpB,OAAO;QACL,GAAGA,KAAK;QACRH,KAAK,EAAE;MACT,CAAC;IACH,CAAC;IAED;IACAiB,YAAY,EAAEA,CAACd,KAAK,EAAEC,MAAM,KAAK;MAC/B,OAAO;QACL,GAAGD,KAAK;QACRH,KAAK,EAAEI,MAAM,CAACE;MAChB,CAAC;IACH;EACF;AACF,CAAC,CAAC;AAGF,OAAO,MAAMY,kBAAkB,GAAGrB,SAAS,CAACsB,OAAO;AAEnD,eAAetB,SAAS,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}