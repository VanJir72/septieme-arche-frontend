{"ast":null,"code":"import _slicedToArray from\"/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router-dom';import Spinner from'../../../components/spinner/Spinner';import{CART_SLICE_ACTIONS}from'../../../redux/cartSlice';import'./ProductPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var product=useSelector(function(state){return state.products.data.find(function(product){return product.id===+id;});});var isDigital=product.digitalProduct;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),stockZero=_useState2[0],setStockZero=_useState2[1];if(!product){return/*#__PURE__*/_jsx(Spinner,{});}var handleAddToCart=function handleAddToCart(){dispatch(CART_SLICE_ACTIONS.addItemToCart(product));};return/*#__PURE__*/_jsxs(\"div\",{className:\"row text-dark\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"imagesContainer\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"card-img-top\",alt:product.description,style:{maxWidth:'300px'}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-5\",children:product.description}),/*#__PURE__*/_jsx(\"p\",{className:\"h5\",children:product.summary}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Auteur\"}),/*#__PURE__*/_jsx(\"span\",{children:product.author.firstName+\" \"+product.author.lastName})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Editeur\"}),/*#__PURE__*/_jsx(\"span\",{children:product.editor.name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"ISBNA3\"}),/*#__PURE__*/_jsx(\"span\",{children:product.isbn13})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"span\",{children:product.kind})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nombre de pages\"}),/*#__PURE__*/_jsx(\"span\",{children:product.numberOfPages})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Format\"}),/*#__PURE__*/_jsx(\"span\",{children:product.format})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Categorie\"}),/*#__PURE__*/_jsx(\"span\",{children:product.category})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between h4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Prix TTC\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",product.inclTaxPrice.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),isDigital?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"article num\\xE9rique\"}):product.stock===stockZero?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-danger\",children:\"NO STOCK\"}):/*#__PURE__*/_jsxs(\"p\",{className:\"d-flex justify-content-between text-primary\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"STOCK\"}),/*#__PURE__*/_jsx(\"span\",{children:product.stock})]}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:product.stock===stockZero?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",type:\"button\",disabled:true,children:\"Ajouter au Panier\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",type:\"button\",onClick:handleAddToCart,children:\"Ajouter au Panier\"})})]})]});};export default ProductPage;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useParams","Spinner","CART_SLICE_ACTIONS","jsx","_jsx","jsxs","_jsxs","ProductPage","_useParams","id","dispatch","product","state","products","data","find","isDigital","digitalProduct","_useState","_useState2","_slicedToArray","stockZero","setStockZero","handleAddToCart","addItemToCart","className","children","src","image","alt","description","style","maxWidth","summary","author","firstName","lastName","editor","name","isbn13","kind","numberOfPages","format","category","inclTaxPrice","toFixed","stock","type","disabled","onClick"],"sources":["/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/src/pages/public-pages/product/ProductPage.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport Spinner from '../../../components/spinner/Spinner';\nimport { CART_SLICE_ACTIONS } from '../../../redux/cartSlice';\n\nimport './ProductPage.css';\n\n\nconst ProductPage = () => {\n  \n  const { id } = useParams();\n\n  const dispatch = useDispatch();\n  const product = useSelector(state => state.products.data.find(product => product.id === +id));\n\n  const isDigital = product.digitalProduct;\n  const [stockZero, setStockZero] = useState(0); \n\n  if (!product) {\n    return <Spinner />;\n  }\n\n  const handleAddToCart = () => {\n    dispatch(CART_SLICE_ACTIONS.addItemToCart(product));\n  }\n\n  \n\n  return (\n    <div className=\"row text-dark\" >\n\n      <div className=\"col-lg-6\">\n\n        <div className=\"imagesContainer\">\n          <img\n            src={product.image}\n            className=\"card-img-top\"\n            alt={product.description} \n            style={{maxWidth: '300px'}}/>\n            {/* {product.images.map((image, index) => (\n              <img src={image} alt='product' key={index} style={{ maxWidth: '300px' }} />\n            ))} */}\n        </div>\n\n      </div>\n\n      <div className=\"col-lg-6\">\n\n        <h2 className=\"text-center mb-5\">{product.description}</h2>\n        <p className=\"h5\">{product.summary}</p>\n\n\n        <div>\n            <p className=\"d-flex justify-content-between\"><span>Auteur</span><span>{product.author.firstName + \" \" + product.author.lastName}</span></p>\n            <p className=\"d-flex justify-content-between\"><span>Editeur</span><span>{product.editor.name}</span></p>\n            <p className=\"d-flex justify-content-between\"><span>ISBNA3</span><span>{product.isbn13}</span></p>\n            <p className=\"d-flex justify-content-between\"><span>Genre</span><span>{product.kind}</span></p>\n            <p className=\"d-flex justify-content-between\"><span>Nombre de pages</span><span>{product.numberOfPages}</span></p>\n            <p className=\"d-flex justify-content-between\"><span>Format</span><span>{product.format}</span></p>\n            <p className=\"d-flex justify-content-between\"><span>Categorie</span><span>{product.category}</span></p>\n            <p className=\"d-flex justify-content-between h4\"><span>Prix TTC</span><span>${product.inclTaxPrice.toFixed(2)}</span></p>\n        </div>\n\n        <div>\n            <hr />\n            {isDigital \n            ? <p className=\"text-center\">article num√©rique</p>\n            : product.stock === stockZero\n            ? <p className=\"text-center text-danger\">NO STOCK</p>\n            : <p className=\"d-flex justify-content-between text-primary\"><span>STOCK</span><span>{product.stock}</span></p>}\n            <hr />\n          </div>\n\n          <div className=\"d-flex justify-content-center\">\n            { product.stock === stockZero\n            ? <button className='btn btn-dark' type='button' disabled>\n              Ajouter au Panier\n              </button>\n            : <button className='btn btn-dark' type='button' onClick={handleAddToCart}>\n              Ajouter au Panier\n              </button>}\n          </div>\n\n\n        {/* <div className=\"d-flex justify-content-center mt-5\">\n          <button className=\"btn btn-dark\" onClick={handleAddToCart}>\n            Ajouter au Panier\n          </button>\n        </div> */}\n\n      </div>\n    </div>\n  );\n}\n\nexport default ProductPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}