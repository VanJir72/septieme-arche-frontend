{"ast":null,"code":"import _slicedToArray from\"/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useMemo}from'react';import{useSelector}from'react-redux';import ProductList from'../../../components/productList/ProductList';import SearchInput from'../../../components/searchInput/SearchInput';import Spinner from'../../../components/spinner/Spinner';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProductsPage=function ProductsPage(){var _useSelector=useSelector(function(state){return state.products;}),loading=_useSelector.loading,error=_useSelector.error,products=_useSelector.data;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var handleSearchInputChange=function handleSearchInputChange(event){var text=event.target.value.toLowerCase();setSearchText(text);};var filteredProducts=useMemo(function(){return products.filter(function(product){return product.description.toLowerCase().includes(searchText);});},[products,searchText]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-dark\",children:[\"Tous Articles (\",filteredProducts.length,\" articles)\"]}),/*#__PURE__*/_jsx(SearchInput,{onChange:handleSearchInputChange}),error?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}):loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(ProductList,{products:filteredProducts})]});};export default ProductsPage;","map":{"version":3,"names":["React","useState","useMemo","useSelector","ProductList","SearchInput","Spinner","jsxs","_jsxs","jsx","_jsx","ProductsPage","_useSelector","state","products","loading","error","data","_useState","_useState2","_slicedToArray","searchText","setSearchText","handleSearchInputChange","event","text","target","value","toLowerCase","filteredProducts","filter","product","description","includes","children","className","length","onChange"],"sources":["/Users/ivan.jirjees/Desktop/7_arche/septieme-arche-frontend/src/pages/public-pages/products/ProductsPage.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport ProductList from '../../../components/productList/ProductList';\nimport SearchInput from '../../../components/searchInput/SearchInput';\nimport Spinner from '../../../components/spinner/Spinner';\n\nconst ProductsPage = () => {\n\n  const { loading, error, data: products } = useSelector(state => state.products);\n  const [searchText, setSearchText] = useState('');\n\n  const handleSearchInputChange = (event) => {\n    const text = event.target.value.toLowerCase();\n    setSearchText(text)\n  }\n\n  const filteredProducts = useMemo(() => {\n    return products.filter(product => product.description.toLowerCase().includes(searchText))\n  }, [products, searchText]);\n\n  return (\n    <div >\n      <h2 className=\"text-dark\">Tous Articles ({filteredProducts.length} articles)</h2>  \n      <SearchInput onChange={handleSearchInputChange} />\n      {error ? (\n        <div className='alert alert-danger'>\n          {error}\n        </div>\n      ) : loading ? (\n        <Spinner />\n      ) : (\n        <ProductList products={filteredProducts} />\n      )}\n    </div>\n  );\n}\n\nexport default ProductsPage;"],"mappings":"iJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,OAAO,KAAQ,OAAO,CAChD,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,WAAW,KAAM,6CAA6C,CACrE,MAAO,CAAAC,WAAW,KAAM,6CAA6C,CACrE,MAAO,CAAAC,OAAO,KAAM,qCAAqC,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE1D,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CAEzB,IAAAC,YAAA,CAA2CT,WAAW,CAAC,SAAAU,KAAK,QAAI,CAAAA,KAAK,CAACC,QAAQ,GAAC,CAAvEC,OAAO,CAAAH,YAAA,CAAPG,OAAO,CAAEC,KAAK,CAAAJ,YAAA,CAALI,KAAK,CAAQF,QAAQ,CAAAF,YAAA,CAAdK,IAAI,CAC5B,IAAAC,SAAA,CAAoCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEhC,GAAM,CAAAI,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAIC,KAAK,CAAK,CACzC,GAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAC7CN,aAAa,CAACG,IAAI,CAAC,CACrB,CAAC,CAED,GAAM,CAAAI,gBAAgB,CAAG3B,OAAO,CAAC,UAAM,CACrC,MAAO,CAAAY,QAAQ,CAACgB,MAAM,CAAC,SAAAC,OAAO,QAAI,CAAAA,OAAO,CAACC,WAAW,CAACJ,WAAW,CAAC,CAAC,CAACK,QAAQ,CAACZ,UAAU,CAAC,GAAC,CAC3F,CAAC,CAAE,CAACP,QAAQ,CAAEO,UAAU,CAAC,CAAC,CAE1B,mBACEb,KAAA,QAAA0B,QAAA,eACE1B,KAAA,OAAI2B,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAC,iBAAe,CAACL,gBAAgB,CAACO,MAAM,CAAC,YAAU,EAAI,CAAC,cACjF1B,IAAA,CAACL,WAAW,EAACgC,QAAQ,CAAEd,uBAAwB,CAAE,CAAC,CACjDP,KAAK,cACJN,IAAA,QAAKyB,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAChClB,KAAK,CACH,CAAC,CACJD,OAAO,cACTL,IAAA,CAACJ,OAAO,GAAE,CAAC,cAEXI,IAAA,CAACN,WAAW,EAACU,QAAQ,CAAEe,gBAAiB,CAAE,CAC3C,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}